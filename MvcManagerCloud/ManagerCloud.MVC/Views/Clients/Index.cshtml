@model ManagerCloud.MVC.ViewModels.IndexClientViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="Client">Clients</h2>
<p>@Html.ActionLink("Create", "Create")</p>

@if (Model.Clients.Count == 0)
{
    <text>No customers.</text>
}
else
{
    <div>
        @using (Ajax.BeginForm("ClientSearch",
            new AjaxOptions
            {
                UpdateTargetId = "results",
                Confirm = "Do a search?",
                LoadingElementId = "loading"
            }))
        {
            <label>Last name</label>
            <input type="text" name="lName" />

            <label>Fisrt name</label>
            <input type="text" name="fName" />

            <input type="submit" value="Search" />
        }
        <div id="loading" style="display:none; color:Red; font-weight:bold;">
            <p>Loading...</p>
        </div>
        <div id="results"></div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/scripts/jquery-3.3.1.min.js")
    @Scripts.Render("~/scripts/jquery.unobtrusive-ajax.min.js")
}
